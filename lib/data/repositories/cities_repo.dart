import 'package:drift/drift.dart';

import '../db/app_db.dart';
import '../db/tables.dart';

class CountryOption {
  const CountryOption({
    required this.code,
    required this.name,
  });

  final String code;
  final String name;
}

class _SeedCity {
  const _SeedCity({
    required this.id,
    required this.countryCode,
    required this.name,
    required this.lat,
    required this.lon,
    required this.timezone,
  });

  final String id;
  final String countryCode;
  final String name;
  final double lat;
  final double lon;
  final String timezone;
}

class CitiesRepo {
  CitiesRepo(this.db);
  final AppDatabase db;

  static const supportedCountries = <CountryOption>[
    CountryOption(code: 'IL', name: 'Israel'),
    CountryOption(code: 'US', name: 'United States'),
    CountryOption(code: 'CA', name: 'Canada'),
    CountryOption(code: 'MX', name: 'Mexico'),
    CountryOption(code: 'BR', name: 'Brazil'),
    CountryOption(code: 'AR', name: 'Argentina'),
    CountryOption(code: 'GB', name: 'United Kingdom'),
    CountryOption(code: 'FR', name: 'France'),
    CountryOption(code: 'DE', name: 'Germany'),
    CountryOption(code: 'ES', name: 'Spain'),
    CountryOption(code: 'IT', name: 'Italy'),
    CountryOption(code: 'NL', name: 'Netherlands'),
    CountryOption(code: 'RU', name: 'Russia'),
    CountryOption(code: 'TR', name: 'Turkey'),
    CountryOption(code: 'EG', name: 'Egypt'),
    CountryOption(code: 'MA', name: 'Morocco'),
    CountryOption(code: 'SA', name: 'Saudi Arabia'),
    CountryOption(code: 'AE', name: 'United Arab Emirates'),
    CountryOption(code: 'JO', name: 'Jordan'),
    CountryOption(code: 'IN', name: 'India'),
    CountryOption(code: 'PK', name: 'Pakistan'),
    CountryOption(code: 'BD', name: 'Bangladesh'),
    CountryOption(code: 'ID', name: 'Indonesia'),
    CountryOption(code: 'MY', name: 'Malaysia'),
    CountryOption(code: 'CN', name: 'China'),
    CountryOption(code: 'JP', name: 'Japan'),
    CountryOption(code: 'KR', name: 'South Korea'),
    CountryOption(code: 'TH', name: 'Thailand'),
    CountryOption(code: 'AU', name: 'Australia'),
    CountryOption(code: 'NZ', name: 'New Zealand'),
    CountryOption(code: 'ZA', name: 'South Africa'),
    CountryOption(code: 'NG', name: 'Nigeria'),
    CountryOption(code: 'KE', name: 'Kenya'),
  ];

  static const _seedCities = <_SeedCity>[
    _SeedCity(
      id: 'city_il_jerusalem',
      countryCode: 'IL',
      name: 'Jerusalem',
      lat: 31.7683,
      lon: 35.2137,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_tel_aviv',
      countryCode: 'IL',
      name: 'Tel Aviv',
      lat: 32.0853,
      lon: 34.7818,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_haifa',
      countryCode: 'IL',
      name: 'Haifa',
      lat: 32.7940,
      lon: 34.9896,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_us_new_york',
      countryCode: 'US',
      name: 'New York',
      lat: 40.7128,
      lon: -74.0060,
      timezone: 'America/New_York',
    ),
    _SeedCity(
      id: 'city_us_los_angeles',
      countryCode: 'US',
      name: 'Los Angeles',
      lat: 34.0522,
      lon: -118.2437,
      timezone: 'America/Los_Angeles',
    ),
    _SeedCity(
      id: 'city_us_chicago',
      countryCode: 'US',
      name: 'Chicago',
      lat: 41.8781,
      lon: -87.6298,
      timezone: 'America/Chicago',
    ),
    _SeedCity(
      id: 'city_us_houston',
      countryCode: 'US',
      name: 'Houston',
      lat: 29.7604,
      lon: -95.3698,
      timezone: 'America/Chicago',
    ),
    _SeedCity(
      id: 'city_ca_toronto',
      countryCode: 'CA',
      name: 'Toronto',
      lat: 43.6532,
      lon: -79.3832,
      timezone: 'America/Toronto',
    ),
    _SeedCity(
      id: 'city_ca_montreal',
      countryCode: 'CA',
      name: 'Montreal',
      lat: 45.5017,
      lon: -73.5673,
      timezone: 'America/Toronto',
    ),
    _SeedCity(
      id: 'city_ca_vancouver',
      countryCode: 'CA',
      name: 'Vancouver',
      lat: 49.2827,
      lon: -123.1207,
      timezone: 'America/Vancouver',
    ),
    _SeedCity(
      id: 'city_mx_mexico_city',
      countryCode: 'MX',
      name: 'Mexico City',
      lat: 19.4326,
      lon: -99.1332,
      timezone: 'America/Mexico_City',
    ),
    _SeedCity(
      id: 'city_mx_guadalajara',
      countryCode: 'MX',
      name: 'Guadalajara',
      lat: 20.6597,
      lon: -103.3496,
      timezone: 'America/Mexico_City',
    ),
    _SeedCity(
      id: 'city_br_sao_paulo',
      countryCode: 'BR',
      name: 'Sao Paulo',
      lat: -23.5558,
      lon: -46.6396,
      timezone: 'America/Sao_Paulo',
    ),
    _SeedCity(
      id: 'city_br_rio_de_janeiro',
      countryCode: 'BR',
      name: 'Rio de Janeiro',
      lat: -22.9068,
      lon: -43.1729,
      timezone: 'America/Sao_Paulo',
    ),
    _SeedCity(
      id: 'city_ar_buenos_aires',
      countryCode: 'AR',
      name: 'Buenos Aires',
      lat: -34.6037,
      lon: -58.3816,
      timezone: 'America/Argentina/Buenos_Aires',
    ),
    _SeedCity(
      id: 'city_ar_cordoba',
      countryCode: 'AR',
      name: 'Cordoba',
      lat: -31.4201,
      lon: -64.1888,
      timezone: 'America/Argentina/Cordoba',
    ),
    _SeedCity(
      id: 'city_gb_london',
      countryCode: 'GB',
      name: 'London',
      lat: 51.5072,
      lon: -0.1276,
      timezone: 'Europe/London',
    ),
    _SeedCity(
      id: 'city_gb_manchester',
      countryCode: 'GB',
      name: 'Manchester',
      lat: 53.4808,
      lon: -2.2426,
      timezone: 'Europe/London',
    ),
    _SeedCity(
      id: 'city_fr_paris',
      countryCode: 'FR',
      name: 'Paris',
      lat: 48.8566,
      lon: 2.3522,
      timezone: 'Europe/Paris',
    ),
    _SeedCity(
      id: 'city_fr_lyon',
      countryCode: 'FR',
      name: 'Lyon',
      lat: 45.7640,
      lon: 4.8357,
      timezone: 'Europe/Paris',
    ),
    _SeedCity(
      id: 'city_de_berlin',
      countryCode: 'DE',
      name: 'Berlin',
      lat: 52.5200,
      lon: 13.4050,
      timezone: 'Europe/Berlin',
    ),
    _SeedCity(
      id: 'city_de_munich',
      countryCode: 'DE',
      name: 'Munich',
      lat: 48.1351,
      lon: 11.5820,
      timezone: 'Europe/Berlin',
    ),
    _SeedCity(
      id: 'city_es_madrid',
      countryCode: 'ES',
      name: 'Madrid',
      lat: 40.4168,
      lon: -3.7038,
      timezone: 'Europe/Madrid',
    ),
    _SeedCity(
      id: 'city_es_barcelona',
      countryCode: 'ES',
      name: 'Barcelona',
      lat: 41.3874,
      lon: 2.1686,
      timezone: 'Europe/Madrid',
    ),
    _SeedCity(
      id: 'city_it_rome',
      countryCode: 'IT',
      name: 'Rome',
      lat: 41.9028,
      lon: 12.4964,
      timezone: 'Europe/Rome',
    ),
    _SeedCity(
      id: 'city_it_milan',
      countryCode: 'IT',
      name: 'Milan',
      lat: 45.4642,
      lon: 9.1900,
      timezone: 'Europe/Rome',
    ),
    _SeedCity(
      id: 'city_nl_amsterdam',
      countryCode: 'NL',
      name: 'Amsterdam',
      lat: 52.3676,
      lon: 4.9041,
      timezone: 'Europe/Amsterdam',
    ),
    _SeedCity(
      id: 'city_nl_rotterdam',
      countryCode: 'NL',
      name: 'Rotterdam',
      lat: 51.9244,
      lon: 4.4777,
      timezone: 'Europe/Amsterdam',
    ),
    _SeedCity(
      id: 'city_ru_moscow',
      countryCode: 'RU',
      name: 'Moscow',
      lat: 55.7558,
      lon: 37.6173,
      timezone: 'Europe/Moscow',
    ),
    _SeedCity(
      id: 'city_ru_saint_petersburg',
      countryCode: 'RU',
      name: 'Saint Petersburg',
      lat: 59.9311,
      lon: 30.3609,
      timezone: 'Europe/Moscow',
    ),
    _SeedCity(
      id: 'city_tr_istanbul',
      countryCode: 'TR',
      name: 'Istanbul',
      lat: 41.0082,
      lon: 28.9784,
      timezone: 'Europe/Istanbul',
    ),
    _SeedCity(
      id: 'city_tr_ankara',
      countryCode: 'TR',
      name: 'Ankara',
      lat: 39.9334,
      lon: 32.8597,
      timezone: 'Europe/Istanbul',
    ),
    _SeedCity(
      id: 'city_eg_cairo',
      countryCode: 'EG',
      name: 'Cairo',
      lat: 30.0444,
      lon: 31.2357,
      timezone: 'Africa/Cairo',
    ),
    _SeedCity(
      id: 'city_eg_alexandria',
      countryCode: 'EG',
      name: 'Alexandria',
      lat: 31.2001,
      lon: 29.9187,
      timezone: 'Africa/Cairo',
    ),
    _SeedCity(
      id: 'city_ma_casablanca',
      countryCode: 'MA',
      name: 'Casablanca',
      lat: 33.5731,
      lon: -7.5898,
      timezone: 'Africa/Casablanca',
    ),
    _SeedCity(
      id: 'city_ma_rabat',
      countryCode: 'MA',
      name: 'Rabat',
      lat: 34.0209,
      lon: -6.8416,
      timezone: 'Africa/Casablanca',
    ),
    _SeedCity(
      id: 'city_sa_mecca',
      countryCode: 'SA',
      name: 'Mecca',
      lat: 21.3891,
      lon: 39.8579,
      timezone: 'Asia/Riyadh',
    ),
    _SeedCity(
      id: 'city_sa_riyadh',
      countryCode: 'SA',
      name: 'Riyadh',
      lat: 24.7136,
      lon: 46.6753,
      timezone: 'Asia/Riyadh',
    ),
    _SeedCity(
      id: 'city_ae_dubai',
      countryCode: 'AE',
      name: 'Dubai',
      lat: 25.2048,
      lon: 55.2708,
      timezone: 'Asia/Dubai',
    ),
    _SeedCity(
      id: 'city_ae_abu_dhabi',
      countryCode: 'AE',
      name: 'Abu Dhabi',
      lat: 24.4539,
      lon: 54.3773,
      timezone: 'Asia/Dubai',
    ),
    _SeedCity(
      id: 'city_jo_amman',
      countryCode: 'JO',
      name: 'Amman',
      lat: 31.9566,
      lon: 35.9457,
      timezone: 'Asia/Amman',
    ),
    _SeedCity(
      id: 'city_jo_aqaba',
      countryCode: 'JO',
      name: 'Aqaba',
      lat: 29.5321,
      lon: 35.0063,
      timezone: 'Asia/Amman',
    ),
    _SeedCity(
      id: 'city_in_new_delhi',
      countryCode: 'IN',
      name: 'New Delhi',
      lat: 28.6139,
      lon: 77.2090,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_in_mumbai',
      countryCode: 'IN',
      name: 'Mumbai',
      lat: 19.0760,
      lon: 72.8777,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_in_bangalore',
      countryCode: 'IN',
      name: 'Bangalore',
      lat: 12.9716,
      lon: 77.5946,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_in_kolkata',
      countryCode: 'IN',
      name: 'Kolkata',
      lat: 22.5726,
      lon: 88.3639,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_pk_karachi',
      countryCode: 'PK',
      name: 'Karachi',
      lat: 24.8607,
      lon: 67.0011,
      timezone: 'Asia/Karachi',
    ),
    _SeedCity(
      id: 'city_pk_lahore',
      countryCode: 'PK',
      name: 'Lahore',
      lat: 31.5204,
      lon: 74.3587,
      timezone: 'Asia/Karachi',
    ),
    _SeedCity(
      id: 'city_pk_islamabad',
      countryCode: 'PK',
      name: 'Islamabad',
      lat: 33.6844,
      lon: 73.0479,
      timezone: 'Asia/Karachi',
    ),
    _SeedCity(
      id: 'city_bd_dhaka',
      countryCode: 'BD',
      name: 'Dhaka',
      lat: 23.8103,
      lon: 90.4125,
      timezone: 'Asia/Dhaka',
    ),
    _SeedCity(
      id: 'city_bd_chittagong',
      countryCode: 'BD',
      name: 'Chittagong',
      lat: 22.3569,
      lon: 91.7832,
      timezone: 'Asia/Dhaka',
    ),
    _SeedCity(
      id: 'city_id_jakarta',
      countryCode: 'ID',
      name: 'Jakarta',
      lat: -6.2088,
      lon: 106.8456,
      timezone: 'Asia/Jakarta',
    ),
    _SeedCity(
      id: 'city_id_surabaya',
      countryCode: 'ID',
      name: 'Surabaya',
      lat: -7.2575,
      lon: 112.7521,
      timezone: 'Asia/Jakarta',
    ),
    _SeedCity(
      id: 'city_my_kuala_lumpur',
      countryCode: 'MY',
      name: 'Kuala Lumpur',
      lat: 3.1390,
      lon: 101.6869,
      timezone: 'Asia/Kuala_Lumpur',
    ),
    _SeedCity(
      id: 'city_my_george_town',
      countryCode: 'MY',
      name: 'George Town',
      lat: 5.4141,
      lon: 100.3288,
      timezone: 'Asia/Kuala_Lumpur',
    ),
    _SeedCity(
      id: 'city_cn_beijing',
      countryCode: 'CN',
      name: 'Beijing',
      lat: 39.9042,
      lon: 116.4074,
      timezone: 'Asia/Shanghai',
    ),
    _SeedCity(
      id: 'city_cn_shanghai',
      countryCode: 'CN',
      name: 'Shanghai',
      lat: 31.2304,
      lon: 121.4737,
      timezone: 'Asia/Shanghai',
    ),
    _SeedCity(
      id: 'city_jp_tokyo',
      countryCode: 'JP',
      name: 'Tokyo',
      lat: 35.6762,
      lon: 139.6503,
      timezone: 'Asia/Tokyo',
    ),
    _SeedCity(
      id: 'city_jp_osaka',
      countryCode: 'JP',
      name: 'Osaka',
      lat: 34.6937,
      lon: 135.5023,
      timezone: 'Asia/Tokyo',
    ),
    _SeedCity(
      id: 'city_kr_seoul',
      countryCode: 'KR',
      name: 'Seoul',
      lat: 37.5665,
      lon: 126.9780,
      timezone: 'Asia/Seoul',
    ),
    _SeedCity(
      id: 'city_kr_busan',
      countryCode: 'KR',
      name: 'Busan',
      lat: 35.1796,
      lon: 129.0756,
      timezone: 'Asia/Seoul',
    ),
    _SeedCity(
      id: 'city_th_bangkok',
      countryCode: 'TH',
      name: 'Bangkok',
      lat: 13.7563,
      lon: 100.5018,
      timezone: 'Asia/Bangkok',
    ),
    _SeedCity(
      id: 'city_th_chiang_mai',
      countryCode: 'TH',
      name: 'Chiang Mai',
      lat: 18.7883,
      lon: 98.9853,
      timezone: 'Asia/Bangkok',
    ),
    _SeedCity(
      id: 'city_au_sydney',
      countryCode: 'AU',
      name: 'Sydney',
      lat: -33.8688,
      lon: 151.2093,
      timezone: 'Australia/Sydney',
    ),
    _SeedCity(
      id: 'city_au_melbourne',
      countryCode: 'AU',
      name: 'Melbourne',
      lat: -37.8136,
      lon: 144.9631,
      timezone: 'Australia/Melbourne',
    ),
    _SeedCity(
      id: 'city_nz_auckland',
      countryCode: 'NZ',
      name: 'Auckland',
      lat: -36.8509,
      lon: 174.7645,
      timezone: 'Pacific/Auckland',
    ),
    _SeedCity(
      id: 'city_nz_wellington',
      countryCode: 'NZ',
      name: 'Wellington',
      lat: -41.2865,
      lon: 174.7762,
      timezone: 'Pacific/Auckland',
    ),
    _SeedCity(
      id: 'city_za_johannesburg',
      countryCode: 'ZA',
      name: 'Johannesburg',
      lat: -26.2041,
      lon: 28.0473,
      timezone: 'Africa/Johannesburg',
    ),
    _SeedCity(
      id: 'city_za_cape_town',
      countryCode: 'ZA',
      name: 'Cape Town',
      lat: -33.9249,
      lon: 18.4241,
      timezone: 'Africa/Johannesburg',
    ),
    _SeedCity(
      id: 'city_ng_lagos',
      countryCode: 'NG',
      name: 'Lagos',
      lat: 6.5244,
      lon: 3.3792,
      timezone: 'Africa/Lagos',
    ),
    _SeedCity(
      id: 'city_ng_abuja',
      countryCode: 'NG',
      name: 'Abuja',
      lat: 9.0765,
      lon: 7.3986,
      timezone: 'Africa/Lagos',
    ),
    _SeedCity(
      id: 'city_ke_nairobi',
      countryCode: 'KE',
      name: 'Nairobi',
      lat: -1.2921,
      lon: 36.8219,
      timezone: 'Africa/Nairobi',
    ),
    _SeedCity(
      id: 'city_ke_mombasa',
      countryCode: 'KE',
      name: 'Mombasa',
      lat: -4.0435,
      lon: 39.6682,
      timezone: 'Africa/Nairobi',
    ),
    _SeedCity(
      id: 'city_il_beersheba',
      countryCode: 'IL',
      name: 'Beersheba',
      lat: 31.2520,
      lon: 34.7915,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_netanya',
      countryCode: 'IL',
      name: 'Netanya',
      lat: 32.3215,
      lon: 34.8532,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_ashdod',
      countryCode: 'IL',
      name: 'Ashdod',
      lat: 31.8044,
      lon: 34.6553,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_petah_tikva',
      countryCode: 'IL',
      name: 'Petah Tikva',
      lat: 32.0840,
      lon: 34.8878,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_rishon_lezion',
      countryCode: 'IL',
      name: 'Rishon LeZion',
      lat: 31.9730,
      lon: 34.7925,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_holon',
      countryCode: 'IL',
      name: 'Holon',
      lat: 32.0158,
      lon: 34.7874,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_bnei_brak',
      countryCode: 'IL',
      name: 'Bnei Brak',
      lat: 32.0833,
      lon: 34.8333,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_rehovot',
      countryCode: 'IL',
      name: 'Rehovot',
      lat: 31.8947,
      lon: 34.8113,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_ashkelon',
      countryCode: 'IL',
      name: 'Ashkelon',
      lat: 31.6688,
      lon: 34.5743,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_bat_yam',
      countryCode: 'IL',
      name: 'Bat Yam',
      lat: 32.0132,
      lon: 34.7481,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_herzliya',
      countryCode: 'IL',
      name: 'Herzliya',
      lat: 32.1624,
      lon: 34.8447,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_il_kfar_saba',
      countryCode: 'IL',
      name: 'Kfar Saba',
      lat: 32.1714,
      lon: 34.9083,
      timezone: 'Asia/Jerusalem',
    ),
    _SeedCity(
      id: 'city_us_miami',
      countryCode: 'US',
      name: 'Miami',
      lat: 25.7617,
      lon: -80.1918,
      timezone: 'America/New_York',
    ),
    _SeedCity(
      id: 'city_us_philadelphia',
      countryCode: 'US',
      name: 'Philadelphia',
      lat: 39.9526,
      lon: -75.1652,
      timezone: 'America/New_York',
    ),
    _SeedCity(
      id: 'city_us_dallas',
      countryCode: 'US',
      name: 'Dallas',
      lat: 32.7767,
      lon: -96.7970,
      timezone: 'America/Chicago',
    ),
    _SeedCity(
      id: 'city_us_san_francisco',
      countryCode: 'US',
      name: 'San Francisco',
      lat: 37.7749,
      lon: -122.4194,
      timezone: 'America/Los_Angeles',
    ),
    _SeedCity(
      id: 'city_us_seattle',
      countryCode: 'US',
      name: 'Seattle',
      lat: 47.6062,
      lon: -122.3321,
      timezone: 'America/Los_Angeles',
    ),
    _SeedCity(
      id: 'city_us_atlanta',
      countryCode: 'US',
      name: 'Atlanta',
      lat: 33.7490,
      lon: -84.3880,
      timezone: 'America/New_York',
    ),
    _SeedCity(
      id: 'city_us_washington_dc',
      countryCode: 'US',
      name: 'Washington',
      lat: 38.9072,
      lon: -77.0369,
      timezone: 'America/New_York',
    ),
    _SeedCity(
      id: 'city_ca_ottawa',
      countryCode: 'CA',
      name: 'Ottawa',
      lat: 45.4215,
      lon: -75.6972,
      timezone: 'America/Toronto',
    ),
    _SeedCity(
      id: 'city_ca_victoria',
      countryCode: 'CA',
      name: 'Victoria',
      lat: 48.4284,
      lon: -123.3656,
      timezone: 'America/Vancouver',
    ),
    _SeedCity(
      id: 'city_mx_monterrey',
      countryCode: 'MX',
      name: 'Monterrey',
      lat: 25.6866,
      lon: -100.3161,
      timezone: 'America/Mexico_City',
    ),
    _SeedCity(
      id: 'city_mx_puebla',
      countryCode: 'MX',
      name: 'Puebla',
      lat: 19.0414,
      lon: -98.2063,
      timezone: 'America/Mexico_City',
    ),
    _SeedCity(
      id: 'city_br_brasilia',
      countryCode: 'BR',
      name: 'Brasilia',
      lat: -15.7975,
      lon: -47.8919,
      timezone: 'America/Sao_Paulo',
    ),
    _SeedCity(
      id: 'city_br_salvador',
      countryCode: 'BR',
      name: 'Salvador',
      lat: -12.9777,
      lon: -38.5016,
      timezone: 'America/Sao_Paulo',
    ),
    _SeedCity(
      id: 'city_br_belo_horizonte',
      countryCode: 'BR',
      name: 'Belo Horizonte',
      lat: -19.9167,
      lon: -43.9345,
      timezone: 'America/Sao_Paulo',
    ),
    _SeedCity(
      id: 'city_ar_rosario',
      countryCode: 'AR',
      name: 'Rosario',
      lat: -32.9442,
      lon: -60.6505,
      timezone: 'America/Argentina/Buenos_Aires',
    ),
    _SeedCity(
      id: 'city_ar_mendoza',
      countryCode: 'AR',
      name: 'Mendoza',
      lat: -32.8895,
      lon: -68.8458,
      timezone: 'America/Argentina/Cordoba',
    ),
    _SeedCity(
      id: 'city_gb_birmingham',
      countryCode: 'GB',
      name: 'Birmingham',
      lat: 52.4862,
      lon: -1.8904,
      timezone: 'Europe/London',
    ),
    _SeedCity(
      id: 'city_gb_liverpool',
      countryCode: 'GB',
      name: 'Liverpool',
      lat: 53.4084,
      lon: -2.9916,
      timezone: 'Europe/London',
    ),
    _SeedCity(
      id: 'city_fr_marseille',
      countryCode: 'FR',
      name: 'Marseille',
      lat: 43.2965,
      lon: 5.3698,
      timezone: 'Europe/Paris',
    ),
    _SeedCity(
      id: 'city_fr_toulouse',
      countryCode: 'FR',
      name: 'Toulouse',
      lat: 43.6047,
      lon: 1.4442,
      timezone: 'Europe/Paris',
    ),
    _SeedCity(
      id: 'city_de_hamburg',
      countryCode: 'DE',
      name: 'Hamburg',
      lat: 53.5511,
      lon: 9.9937,
      timezone: 'Europe/Berlin',
    ),
    _SeedCity(
      id: 'city_de_frankfurt',
      countryCode: 'DE',
      name: 'Frankfurt',
      lat: 50.1109,
      lon: 8.6821,
      timezone: 'Europe/Berlin',
    ),
    _SeedCity(
      id: 'city_es_valencia',
      countryCode: 'ES',
      name: 'Valencia',
      lat: 39.4699,
      lon: -0.3763,
      timezone: 'Europe/Madrid',
    ),
    _SeedCity(
      id: 'city_es_seville',
      countryCode: 'ES',
      name: 'Seville',
      lat: 37.3891,
      lon: -5.9845,
      timezone: 'Europe/Madrid',
    ),
    _SeedCity(
      id: 'city_it_naples',
      countryCode: 'IT',
      name: 'Naples',
      lat: 40.8518,
      lon: 14.2681,
      timezone: 'Europe/Rome',
    ),
    _SeedCity(
      id: 'city_it_turin',
      countryCode: 'IT',
      name: 'Turin',
      lat: 45.0703,
      lon: 7.6869,
      timezone: 'Europe/Rome',
    ),
    _SeedCity(
      id: 'city_nl_the_hague',
      countryCode: 'NL',
      name: 'The Hague',
      lat: 52.0705,
      lon: 4.3007,
      timezone: 'Europe/Amsterdam',
    ),
    _SeedCity(
      id: 'city_nl_utrecht',
      countryCode: 'NL',
      name: 'Utrecht',
      lat: 52.0907,
      lon: 5.1214,
      timezone: 'Europe/Amsterdam',
    ),
    _SeedCity(
      id: 'city_ru_kazan',
      countryCode: 'RU',
      name: 'Kazan',
      lat: 55.8304,
      lon: 49.0661,
      timezone: 'Europe/Moscow',
    ),
    _SeedCity(
      id: 'city_ru_nizhny_novgorod',
      countryCode: 'RU',
      name: 'Nizhny Novgorod',
      lat: 56.3269,
      lon: 44.0059,
      timezone: 'Europe/Moscow',
    ),
    _SeedCity(
      id: 'city_tr_izmir',
      countryCode: 'TR',
      name: 'Izmir',
      lat: 38.4237,
      lon: 27.1428,
      timezone: 'Europe/Istanbul',
    ),
    _SeedCity(
      id: 'city_tr_bursa',
      countryCode: 'TR',
      name: 'Bursa',
      lat: 40.1885,
      lon: 29.0610,
      timezone: 'Europe/Istanbul',
    ),
    _SeedCity(
      id: 'city_eg_giza',
      countryCode: 'EG',
      name: 'Giza',
      lat: 30.0131,
      lon: 31.2089,
      timezone: 'Africa/Cairo',
    ),
    _SeedCity(
      id: 'city_eg_luxor',
      countryCode: 'EG',
      name: 'Luxor',
      lat: 25.6872,
      lon: 32.6396,
      timezone: 'Africa/Cairo',
    ),
    _SeedCity(
      id: 'city_ma_marrakesh',
      countryCode: 'MA',
      name: 'Marrakesh',
      lat: 31.6295,
      lon: -7.9811,
      timezone: 'Africa/Casablanca',
    ),
    _SeedCity(
      id: 'city_ma_fes',
      countryCode: 'MA',
      name: 'Fes',
      lat: 34.0181,
      lon: -5.0078,
      timezone: 'Africa/Casablanca',
    ),
    _SeedCity(
      id: 'city_sa_medina',
      countryCode: 'SA',
      name: 'Medina',
      lat: 24.5247,
      lon: 39.5692,
      timezone: 'Asia/Riyadh',
    ),
    _SeedCity(
      id: 'city_sa_jeddah',
      countryCode: 'SA',
      name: 'Jeddah',
      lat: 21.4858,
      lon: 39.1925,
      timezone: 'Asia/Riyadh',
    ),
    _SeedCity(
      id: 'city_ae_sharjah',
      countryCode: 'AE',
      name: 'Sharjah',
      lat: 25.3463,
      lon: 55.4209,
      timezone: 'Asia/Dubai',
    ),
    _SeedCity(
      id: 'city_ae_ajman',
      countryCode: 'AE',
      name: 'Ajman',
      lat: 25.4052,
      lon: 55.5136,
      timezone: 'Asia/Dubai',
    ),
    _SeedCity(
      id: 'city_jo_irbid',
      countryCode: 'JO',
      name: 'Irbid',
      lat: 32.5569,
      lon: 35.8479,
      timezone: 'Asia/Amman',
    ),
    _SeedCity(
      id: 'city_jo_zarqa',
      countryCode: 'JO',
      name: 'Zarqa',
      lat: 32.0728,
      lon: 36.0880,
      timezone: 'Asia/Amman',
    ),
    _SeedCity(
      id: 'city_in_chennai',
      countryCode: 'IN',
      name: 'Chennai',
      lat: 13.0827,
      lon: 80.2707,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_in_hyderabad',
      countryCode: 'IN',
      name: 'Hyderabad',
      lat: 17.3850,
      lon: 78.4867,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_in_ahmedabad',
      countryCode: 'IN',
      name: 'Ahmedabad',
      lat: 23.0225,
      lon: 72.5714,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_in_pune',
      countryCode: 'IN',
      name: 'Pune',
      lat: 18.5204,
      lon: 73.8567,
      timezone: 'Asia/Kolkata',
    ),
    _SeedCity(
      id: 'city_pk_faisalabad',
      countryCode: 'PK',
      name: 'Faisalabad',
      lat: 31.4504,
      lon: 73.1350,
      timezone: 'Asia/Karachi',
    ),
    _SeedCity(
      id: 'city_pk_rawalpindi',
      countryCode: 'PK',
      name: 'Rawalpindi',
      lat: 33.5651,
      lon: 73.0169,
      timezone: 'Asia/Karachi',
    ),
    _SeedCity(
      id: 'city_bd_khulna',
      countryCode: 'BD',
      name: 'Khulna',
      lat: 22.8456,
      lon: 89.5403,
      timezone: 'Asia/Dhaka',
    ),
    _SeedCity(
      id: 'city_bd_rajshahi',
      countryCode: 'BD',
      name: 'Rajshahi',
      lat: 24.3745,
      lon: 88.6042,
      timezone: 'Asia/Dhaka',
    ),
    _SeedCity(
      id: 'city_id_bandung',
      countryCode: 'ID',
      name: 'Bandung',
      lat: -6.9175,
      lon: 107.6191,
      timezone: 'Asia/Jakarta',
    ),
    _SeedCity(
      id: 'city_id_medan',
      countryCode: 'ID',
      name: 'Medan',
      lat: 3.5952,
      lon: 98.6722,
      timezone: 'Asia/Jakarta',
    ),
    _SeedCity(
      id: 'city_my_johor_bahru',
      countryCode: 'MY',
      name: 'Johor Bahru',
      lat: 1.4927,
      lon: 103.7414,
      timezone: 'Asia/Kuala_Lumpur',
    ),
    _SeedCity(
      id: 'city_my_kota_bharu',
      countryCode: 'MY',
      name: 'Kota Bharu',
      lat: 6.1254,
      lon: 102.2381,
      timezone: 'Asia/Kuala_Lumpur',
    ),
    _SeedCity(
      id: 'city_cn_guangzhou',
      countryCode: 'CN',
      name: 'Guangzhou',
      lat: 23.1291,
      lon: 113.2644,
      timezone: 'Asia/Shanghai',
    ),
    _SeedCity(
      id: 'city_cn_shenzhen',
      countryCode: 'CN',
      name: 'Shenzhen',
      lat: 22.5431,
      lon: 114.0579,
      timezone: 'Asia/Shanghai',
    ),
    _SeedCity(
      id: 'city_cn_chengdu',
      countryCode: 'CN',
      name: 'Chengdu',
      lat: 30.5728,
      lon: 104.0668,
      timezone: 'Asia/Shanghai',
    ),
    _SeedCity(
      id: 'city_jp_yokohama',
      countryCode: 'JP',
      name: 'Yokohama',
      lat: 35.4437,
      lon: 139.6380,
      timezone: 'Asia/Tokyo',
    ),
    _SeedCity(
      id: 'city_jp_nagoya',
      countryCode: 'JP',
      name: 'Nagoya',
      lat: 35.1815,
      lon: 136.9066,
      timezone: 'Asia/Tokyo',
    ),
    _SeedCity(
      id: 'city_jp_kyoto',
      countryCode: 'JP',
      name: 'Kyoto',
      lat: 35.0116,
      lon: 135.7681,
      timezone: 'Asia/Tokyo',
    ),
    _SeedCity(
      id: 'city_kr_incheon',
      countryCode: 'KR',
      name: 'Incheon',
      lat: 37.4563,
      lon: 126.7052,
      timezone: 'Asia/Seoul',
    ),
    _SeedCity(
      id: 'city_kr_daegu',
      countryCode: 'KR',
      name: 'Daegu',
      lat: 35.8714,
      lon: 128.6014,
      timezone: 'Asia/Seoul',
    ),
    _SeedCity(
      id: 'city_th_phuket',
      countryCode: 'TH',
      name: 'Phuket',
      lat: 7.8804,
      lon: 98.3923,
      timezone: 'Asia/Bangkok',
    ),
    _SeedCity(
      id: 'city_th_pattaya',
      countryCode: 'TH',
      name: 'Pattaya',
      lat: 12.9236,
      lon: 100.8825,
      timezone: 'Asia/Bangkok',
    ),
    _SeedCity(
      id: 'city_au_brisbane',
      countryCode: 'AU',
      name: 'Brisbane',
      lat: -27.4698,
      lon: 153.0251,
      timezone: 'Australia/Sydney',
    ),
    _SeedCity(
      id: 'city_au_canberra',
      countryCode: 'AU',
      name: 'Canberra',
      lat: -35.2809,
      lon: 149.1300,
      timezone: 'Australia/Sydney',
    ),
    _SeedCity(
      id: 'city_nz_christchurch',
      countryCode: 'NZ',
      name: 'Christchurch',
      lat: -43.5321,
      lon: 172.6362,
      timezone: 'Pacific/Auckland',
    ),
    _SeedCity(
      id: 'city_nz_hamilton',
      countryCode: 'NZ',
      name: 'Hamilton',
      lat: -37.7870,
      lon: 175.2793,
      timezone: 'Pacific/Auckland',
    ),
    _SeedCity(
      id: 'city_za_durban',
      countryCode: 'ZA',
      name: 'Durban',
      lat: -29.8587,
      lon: 31.0218,
      timezone: 'Africa/Johannesburg',
    ),
    _SeedCity(
      id: 'city_za_pretoria',
      countryCode: 'ZA',
      name: 'Pretoria',
      lat: -25.7479,
      lon: 28.2293,
      timezone: 'Africa/Johannesburg',
    ),
    _SeedCity(
      id: 'city_ng_kano',
      countryCode: 'NG',
      name: 'Kano',
      lat: 12.0022,
      lon: 8.5920,
      timezone: 'Africa/Lagos',
    ),
    _SeedCity(
      id: 'city_ng_ibadan',
      countryCode: 'NG',
      name: 'Ibadan',
      lat: 7.3775,
      lon: 3.9470,
      timezone: 'Africa/Lagos',
    ),
    _SeedCity(
      id: 'city_ke_kisumu',
      countryCode: 'KE',
      name: 'Kisumu',
      lat: -0.0917,
      lon: 34.7680,
      timezone: 'Africa/Nairobi',
    ),
    _SeedCity(
      id: 'city_ke_nakuru',
      countryCode: 'KE',
      name: 'Nakuru',
      lat: -0.3031,
      lon: 36.0800,
      timezone: 'Africa/Nairobi',
    ),
  ];

  List<CountryOption> getSupportedCountries() => supportedCountries;

  Future<void> seedDefaultCitiesIfMissing() async {
    final now = DateTime.now();
    for (final seed in _seedCities) {
      await db.into(db.cities).insert(
            CitiesCompanion.insert(
              id: seed.id,
              countryCode: seed.countryCode,
              name: seed.name,
              nameLocal: const Value(null),
              lat: seed.lat,
              lon: seed.lon,
              timezone: seed.timezone,
              source: CitySource.pack,
              updatedAt: now,
            ),
            mode: InsertMode.insertOrReplace,
          );
    }
  }

  Future<List<City>> getCitiesByCountry(String countryCode) async {
    final query = db.select(db.cities)
      ..where((c) => c.countryCode.equals(countryCode))
      ..orderBy([(c) => OrderingTerm.asc(c.name)]);
    return query.get();
  }

  Future<City?> getCityById(String cityId) async {
    final query = db.select(db.cities)..where((c) => c.id.equals(cityId));
    return query.getSingleOrNull();
  }
}
